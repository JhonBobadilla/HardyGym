<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Descubre Hardy Gym, tu gimnasio online para entrenamiento en casa. Accede a rutinas de ejercicio, clases en vivo y consejos de fitness desde cualquier lugar.">
    <meta name="keywords" content="gimnasio online, entrenamiento en casa, fitness virtual, clases de fitness, rutinas de ejercicio en línea, coach virtual, ejercicios en casa, vida saludable, salud">
    <meta name="author" content="Hardy Gym">
    <title>Formulario Registro</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="shortcut icon" href="../img/logo.png" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bowlby+One+SC&display=swap" rel="stylesheet">
</head>
<body class="gimnasio">
    <div class="cont_logo_hardy_list_register">
        <div class="principal_logo">
            <img class="logo1" src="../img/logo.png" alt="logo">
        </div>
        <div class="principal_titulo">
            <h1 class="titulo">REGISTRATE</h1>
        </div>
        <nav class="navbar navbar-expand-lg">
            <div class="container-fluid crecee">
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="menu listas">
                        <li class="nav-item">
                            <a class="style_a" href="../public/index.html">Home</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="formularioo">
            <form class="formm" id="registerForm" action="/register" method="post" autocomplete="off">
                <div class="input-group">
                    <div class="input-container">
                        <input type="text" name="nombre" placeholder="Nombre completo" required>
                        <i class="fa-solid fa-user"></i>
                    </div>
                    <div class="input-container">
                        <input type="password" name="password" placeholder="Contraseña" required>
                        <i class="fa-solid fa-lock"></i>
                    </div>
                    <div class="input-container">
                        <input type="email" name="email" placeholder="e-mail" required>
                        <i class="fa-solid fa-envelope"></i>
                    </div>
                    <div class="input-container">
                        <input type="tel" name="telefono" placeholder="Teléfono" required>
                        <i class="fa-solid fa-phone"></i>
                    </div>
                    <div class="input-container"> 
                        <input type="text" name="ciudad" placeholder="Ciudad" required>
                        <i class="fa-solid fa-city"></i>
                    </div>
                    <input type="submit" name="send" class="btn" value="Enviar">
                </div>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.querySelector('#registerForm');
            form.addEventListener('submit', function(event) {
                event.preventDefault(); // Evitar que el formulario se envíe de la manera predeterminada

                // Recoger los datos del formulario
                const formData = new FormData(form);
                const formDataObject = Object.fromEntries(formData.entries());

                fetch(form.action, {
                    method: form.method,
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formDataObject)
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) { // Verificar el campo 'success' en la respuesta
                        window.location.href = data.redirectUrl; // Redirigir a la URL proporcionada en la respuesta
                    } else {
                        alert('Error en el registro. Por favor, inténtalo de nuevo.');
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('Error en el registro. Por favor, inténtalo de nuevo.');
                });
            });
        });
    </script>
</body>
</html>



